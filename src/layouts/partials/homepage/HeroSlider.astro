---
import { getLangFromUrl, slugSelector } from "@/lib/utils/languageParser";
import { markdownify } from "@/lib/utils/textConverter";

const { heroSlider } = Astro.props;
let lang = getLangFromUrl(Astro.url);
---

{
  heroSlider?.enable && (
    <section class="section pt-0">
      <div class="swiper banner-slider relative">
        <div class="swiper-wrapper">
          {heroSlider.slider_item.map(
            (slider: {
              bg_image: string;
              title: string;
              subtitle: string;
              content: string;
              button: { enable: boolean; label: string; link: string };
            }) => (
              <div class="swiper-slide relative">
                <div class="relative h-[720px]">
                  <div
                    class="absolute inset-0 bg-cover bg-center"
                    style={{
                      backgroundImage: `url(${slider.bg_image})`,
                    }}
                  />
                  {/* <div class="absolute inset-0 bg-gradient-to-l from-[#00000040] to-[#00000050] z-10" /> */}
                  <div class="container 2xl:container-lg relative z-20 h-full flex flex-col justify-center items-start text-dark">
                    <div class="bg-light/90 p-3">
                      <h1
                      class="md:text-7xl uppercase font-semibold"
                      set:html={markdownify(slider.title ?? "")}
                    />
                    <h2 class="mb-6 md:text-6xl uppercase font-semibold"
                      set:html={markdownify(slider.subtitle ?? "")}/>
                    <p
                      class="mb-5 lg:mb-9 lg:text-lg xl:max-w-[700px] leading-7 text-balance font-light"
                      set:html={markdownify(slider.content ?? "")}
                    />
                    {slider.button && slider.button.enable && (
                      <a
                        class="btn btn-outline-primary"
                        href={slugSelector(slider.button.link, lang)}
                      >
                        <span>{slider.button.label}</span>
                      </a>
                    )}
                    </div>
                    
                  </div>
                </div>
              </div>
            ),
          )}
        </div>
      </div>
    </section>
  )
}